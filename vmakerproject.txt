#vmakerProject
#testing app

using UnityEngine;
using Systm.Collections;
public class VideoPlaybackController : MonoBehaviour
{ 
   private Vector2 mTouchStartpos;
   private bool mTouchMoved = false;
 Â  private float mTimeElapsed = 0.0f;
   private bool mTapped = false;
   private float mTimeElapsedSinceTap = 0.0f;
   private boolmWentToFullScreen = false;
   
   void Update ()
   {
      if (Input.touchCount > 0)
      {
          Touch touch = Input.touches [0];
          if (touch.phase == TouchPhase.Began)
          {
            mTouchStartPos = touch.position;
            mTouchMoved = false;
            mTimeElapsed = 0.0f;
          }
          else
          {
            mTimeElapsed += Time.deltaTime;
          }
          if (touch.phase == TouchPhase.Moved)
          {
            if (Vector2.Distance(mTouchStartPos, touch.position) > 40)
             {
               mTouchMoved = true;
             }
          }
          else if (touch.phase == TouchPhase.Ended)
          {
             if (!mTouchMoved && mTimeElapsed < 1.0)
             {
               if (mTapped)
               {
                 HandleDoubleTap();
                 mTapped = false;
               }
               else
               {
                 mTapped = true;
                 mTimeElapsedSinceTap = 0.0f;
               }
             }
          }
      }
      if (mTapped)
      {
          if (mTimeElapsedSinceTap >= 0.5f)
          {
            HandleTap();
            mTapped = false;
          }
          else
          {
            mTimeElapsedSinceTap += Time.deltaTime;
          }
      }
      
      if (VufuriaRuntimeUtilities.IsPlayMode())
      {
          if(input.GetMounseButtonUp(0))
          {
            if (PickVideo(Input.mousePosition) != null)
            Debug.LogWarning ("Playing videos is currently not supported in Play Mode.");
          }
       }
   }
   
   
                      
